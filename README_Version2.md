# Heavenly Chocolates — Transaction Analysis (R)

A small reproducible R-based analysis exploring transaction data from the Heavenly Chocolates website. The project demonstrates tidy data workflows, EDA, simple time-series inspection, customer behaviour summaries, and clear visualizations to inform product, marketing, and inventory decisions.

## Short description
This repository contains R scripts and an R Markdown report that load, clean, and analyze ecommerce transaction data to produce summary statistics, visualizations, and a written report. The analysis focuses on revenue trends, top products, customer retention patterns, and basic descriptive modeling.

## Data notes
- Expected location and format
  - data/transactions.csv (CSV) — transaction-level data. If your dataset has a different file name or location, update the scripts or move the file accordingly.
- Minimum required columns (rename or map your columns if they differ)
  - order_id: unique order identifier
  - transaction_date: date or datetime of the transaction (ISO format recommended, e.g., 2023-12-31 or 2023-12-31 14:23:00)
  - customer_id: unique customer identifier
  - product_id or product_name: product identifier or name
  - quantity: number of units in the order line
  - unit_price or price: price per unit
  - payment_type (optional): payment method used
  - category (optional): product category if available
- Common cleaning steps performed by scripts
  - parse and standardize dates with lubridate
  - coerce numeric columns (quantity, price), compute line_total = quantity * unit_price
  - remove or flag duplicate order lines and invalid rows (e.g., negative quantities)
  - handle missing customer_id for guest checkouts by creating a guest placeholder
- Privacy & sensitive data
  - Do not include personally identifiable information (PII) in the public dataset. If the repository contains real customer data, remove or anonymize customer names, emails, addresses, and payment card details before publishing.
- Sample schema (first row / column names)
  - order_id, transaction_date, customer_id, product_id, product_name, category, quantity, unit_price, payment_type

## Visuals
Visual outputs are saved to the repository's figures/ (or output/) folder. Example visuals included or generated by the report:

- figures/revenue_over_time.png — Daily/weekly revenue trend with moving average
  ![Revenue over time](figures/revenue_over_time.png)

- figures/top_products.png — Top 10 products by total revenue or units sold
  ![Top products](figures/top_products.png)

- figures/cohort_retention_heatmap.png — Customer cohort retention heatmap
  ![Cohort retention heatmap](figures/cohort_retention_heatmap.png)

- figures/order_value_distribution.png — Distribution of order values (histogram + boxplot)
  ![Order value distribution](figures/order_value_distribution.png)

How visuals are produced
- The R Markdown report (reports/transactions_analysis.Rmd) uses ggplot2 for charts and saves images to figures/ via ggsave.
- Minimal reproducible ggplot example:
  - revenue over time (pseudo-code)
    ```r
    library(dplyr); library(ggplot2); library(lubridate)
    daily <- transactions %>%
      mutate(date = as_date(transaction_date)) %>%
      group_by(date) %>%
      summarise(revenue = sum(quantity * unit_price, na.rm = TRUE))
    ggplot(daily, aes(date, revenue)) +
      geom_line() +
      geom_ma(n = 7, aes(y = revenue), size = 0.6) +
      labs(title = "Revenue over time", x = "Date", y = "Revenue")
    ggsave("figures/revenue_over_time.png", width = 10, height = 4)
    ```
- If figures are missing, run:
  - In RStudio: open reports/transactions_analysis.Rmd and click "Knit"
  - From terminal: R -e "rmarkdown::render('reports/transactions_analysis.Rmd')"

## Getting started (requirements)
- R (>= 4.0 recommended)
- Recommended packages:
  - tidyverse, lubridate, janitor, broom, scales, rmarkdown, knitr
- Install packages in R:
  install.packages(c("tidyverse", "lubridate", "janitor", "broom", "scales", "rmarkdown", "knitr"))

## How to run
- RStudio: Open project, knit reports/transactions_analysis.Rmd
- Command line:
  R -e "rmarkdown::render('reports/transactions_analysis.Rmd')"
  or
  Rscript scripts/analysis.R

## Analysis overview
- Data cleaning and validation
- Aggregations: total revenue, transactions, average order value (AOV), units sold
- Time-series exploration: daily/weekly/monthly trends, moving averages
- Customer behavior: repeat vs new, cohort analysis, order frequency
- Visualizations: trend lines, bar charts for top-sellers, heatmaps for cohorts

## Suggested improvements
- Add forecasting (ARIMA, ETS, Prophet) for demand planning
- Interactive dashboard with shiny for stakeholders
- Enrich dataset with marketing channel data, promotions, or product taxonomy
- Add automated data QA tests and CI to rebuild reports

## Contributing
- Fork → branch → PR with a clear description
- For feature requests or help mapping your data to the scripts, open an issue

## License
- No license included. Add a LICENSE (e.g., MIT) to make this project open source.

## Maintainer
- GitHub: prachitiJadhav — open issues for questions, requests, or bug reports.